<ns-action-bar title="Dashboard" showAdd="true"></ns-action-bar>
<StackLayout>
    <ScrollView>
        <GridLayout rows="*, *, *, *, *, *" columns="*">
            <Button row="0" col="0" text="Start New Game" (tap)="startNewGame()" margin="10"></Button>
            <StackLayout row="1" col="0">
                <CardView class="cardStyle" margin="10" elevation="40" radius="1" class="gameplay">
                    <GridLayout rows="auto, auto" columns="*">
                        <StackLayout row="0" col="0" *ngIf="activeGames && userDict">
                            <Label text="My Games" orientation="horizontal" horizontalAlignment="center" padding="10"
                                textWrap="true" color="#3B5998" fontSize="17"> </Label>
                            <StackLayout *ngFor="let game of activeGames | gamefilter: filterSinglePlayerGame">
                                <game-card [game]="game" [cardType]="'singlePlayer'"></game-card>
                                <StackLayout class="hr-light m-10"></StackLayout>
                            </StackLayout>
                        </StackLayout>
                        <StackLayout row="1" col="0" *ngIf="activeGames && userDict">
                            <StackLayout *ngFor="let game of activeGames | gamefilter: filterTwoPlyerGame">
                                <game-card [game]="game" [cardType]="'twoPlayer'"></game-card>
                            </StackLayout>
                        </StackLayout>
                    </GridLayout>
                </CardView>
            </StackLayout>

            <StackLayout row="2" col="0">
                <CardView class="cardStyle" margin="10" elevation="40" radius="1" class="gameplay">
                    <StackLayout *ngIf="activeGames && userDict">
                        <Label text="Their Turn" orientation="horizontal" horizontalAlignment="center" padding="10"
                            textWrap="true" color="#3B5998" fontSize="17"> </Label>
                        <StackLayout *ngFor="let game of activeGames | gamefilter: filterTwoPlyerWaitNextQGame">
                            <game-card [game]="game" [cardType]="'theirTurn'"></game-card>
                        </StackLayout>
                    </StackLayout>
                </CardView>
            </StackLayout>
            <StackLayout row="3" col="0">
                <CardView class="cardStyle" margin="10" elevation="40" radius="1" class="gameplay">
                    <StackLayout *ngIf="activeGames && userDict">
                        <Label text="Waiting for Opponent" orientation="horizontal" horizontalAlignment="center"
                            padding="10" textWrap="true" color="#3B5998" fontSize="17"> </Label>
                        <StackLayout *ngFor="let game of activeGames | gamefilter: filterGame">
                            <game-card [game]="game" [cardType]="'opponent'"></game-card>
                        </StackLayout>
                    </StackLayout>
                </CardView>
            </StackLayout>

            <StackLayout row="4" col="0">
                <CardView class="cardStyle" margin="10" elevation="40" radius="1" class="gameplay">
                    <StackLayout *ngIf="gameInvites">
                        <Label text="Invitation to play games" orientation="horizontal"
                            horizontalAlignment="center" padding="10" textWrap="true" color="#3B5998" fontSize="17">
                        </Label>
                        <StackLayout *ngFor="let game of gameInvites; let last = last;"  [ngClass]="!last?'border-bottom':''" class="">
                            <game-invite [userDict]="userDict" [game]="game"></game-invite>                    
                        </StackLayout>
                    </StackLayout>
                </CardView>
            </StackLayout>

            <StackLayout row="5" col="0">
                <question [userDict]="userDict"></question>
            </StackLayout>
        </GridLayout>
    </ScrollView>
</StackLayout>